<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1252">
<META NAME="Generator" CONTENT="Microsoft Word 97">
<TITLE>User</TITLE>
</HEAD>
<BODY LINK="#0000ff">

<FONT SIZE=5><P ALIGN="CENTER">Installing and Compliling </FONT><B><FONT FACE="Comic Sans MS" SIZE=5>itk</P>
</B></FONT><FONT SIZE=2>
<P>&nbsp;</P>
<P>This document provides basic instructions for downloading and compiling itk on Windows and Unix machines.</P>

<P>It is assumed that you have a login and password for accessing the itk CVS repository.   If you have problems with your login or password, please contract Ken Martin </FONT><A HREF="mailto:ken.martin@kitware.com"><FONT SIZE=2>ken.martin@kitware.com</FONT></A></P>
<FONT SIZE=2>
<P>If you have problems or questions with this document, please contact Stephen R. Aylward, UNC-CH, </FONT><A HREF="mailto:aylward@unc.edu"><FONT SIZE=2>aylward@unc.edu</FONT></A></P>
<FONT SIZE=2>
<P>If you have problems or questions during compilation, please send a detail description to the itk mail list: </FONT><A HREF="mailto:insight-developers@public.kitware.com"><FONT SIZE=2>insight-developers@public.kitware.com</FONT></A></P>
<FONT SIZE=2>
<P>&nbsp;</P>
<B><P>I. Dowloading itk</P>
</B>
<U><P>CVS</P>
</U><DIR>
<DIR>

<P>Itk is distributed and updates are maintained using a CVS server.   CVS and details regarding its usage are available on the WWW:</P>
<DIR>
<DIR>

<P>CVS Home and Unix Software:</P>
<P></FONT><A HREF="http://www.cvshome.org/"><FONT SIZE=2>http://www.cvshome.org/</FONT></A></P>
<FONT SIZE=2>
<P>PC Software:</P>
<P></FONT><A HREF="http://www.wincvs.org/"><FONT SIZE=2>http://www.wincvs.org/</FONT></A><FONT SIZE=2> (a stand-alone GUI)</P>
<P></FONT><A HREF="http://www.geocities.com/kaczoroj/CvsIn/"><FONT SIZE=2>http://www.geocities.com/kaczoroj/CvsIn/</FONT></A><FONT SIZE=2>  (a plug-in for VC++)</P>

<P>CVS Instructions</P>
<P></FONT><A HREF="http://cvsbook.red-bean.com/cvsbook.html"><FONT SIZE=2>http://cvsbook.red-bean.com/cvsbook.html</FONT></A></P>
<FONT SIZE=2></DIR>
</DIR>

<P>Three issues must be address when using CVS to obtain a software archive</P></DIR>
</DIR>

<OL>

<OL>

<LI>Specifying the CVS server</LI>
<LI>Obtaining (&quot;check out&quot;) the initial installation</LI>
<LI>Performing subsequent &quot;upgrades&quot; to get the latest version of the software</LI></OL>
</OL>
<DIR>
<DIR>

<P>This paper doesn’t address adding software to the repository.</P>
</DIR>
</DIR>

<U><P>Platform-specific instructions for specifying a server and doing a check-out:</P>
</U><DIR>
<DIR>

<U><P>Unix</P><DIR>
<DIR>

</U><P>&gt; alias cvsI &quot;cvs –d :pserver:<I>YourLogin</I>@public.kitware.com:/insight/cvsroot&quot;</P>
<P>&gt; cvsI login</P>
<P>…enter password</P>
<P>&gt; cvsI checkout Insight</P></DIR>
</DIR>
</DIR>
</DIR>

<P>&#9;&#9;</P><DIR>
<DIR>
<DIR>
<DIR>

<P>An environment variable could be used instead of the alias in the above sequence of commands, but if you access multiple CVS archives (using different servers), we have found using aliases to be easiest to switch between servers versus changing environment variables.</P>
</DIR>
</DIR>

<U><P>Windows: Option 1: Using WinCVS</P><DIR>
<DIR>

</U><P>Get WinCVS: </FONT><A HREF="http://www.wincvs.org/"><FONT SIZE=2>www.wincvs.org</FONT></A></P>
<FONT SIZE=2><P>Menu: Admin/Preferences…</P>
<P>Tab: General</P><DIR>
<DIR>

<P>Set:</P><DIR>
<DIR>

<P>CVSROOT: :pserver:YourLogin@public.kitware.com:/insight/cvsroot</P>
<P>Authentication: &quot;passwd&quot; file on cvs server</P></DIR>
</DIR>
</DIR>
</DIR>

<P>Menu: Admin/Loing…</P><DIR>
<DIR>

<P>Enter password</P></DIR>
</DIR>

<P>Menu: Admin/Command line…</P><DIR>
<DIR>

<P>Cvs checkout Insight</P></DIR>
</DIR>
</DIR>
</DIR>
</DIR>
</DIR>

<P>&#9;&#9;</P>
<DIR>
<DIR>

<U><P>Windows: Option 2:: Using CVS via CYGWIN (pc unix) recommended</P><DIR>
<DIR>

</U><P>Get Cygwin</P><DIR>
<DIR>

<P></FONT><A HREF="http://sources.redhat.com/cygwin/"><FONT SIZE=2>http://sources.redhat.com/cygwin</FONT></A><FONT SIZE=2>/download.html</P>
<P>Use setup.exe</P>
<P>Get latest development snapshot (considered to be V1.1)</P></DIR>
</DIR>

<P>Get /usr/local/ stuff for Cygwin</P><DIR>
<DIR>

<P></FONT><A HREF="http://cygutils.netpedia.net/V1.1/usr-local/index.html"><FONT SIZE=2>http://cygutils.netpedia.net/V1.1/usr-local/index.html</FONT></A></P>
<FONT SIZE=2><P>includes cvs and vim</P></DIR>
</DIR>

<P>Then do Unix installation (see above)</P>

<P>We strongly recommend this approach.   This version of CVS is very stable and Cygwin is an excellent unix-like environment for the PC.   Via this approach you will also have access to a number of other useful tools such as g++, grep, sed, vim, etc on the PC.   Since itk doesn’t provide a GUI, having a good command-line interface is essential.</P>
</DIR>
</DIR>
</DIR>
</DIR>

<U><P>Performing &quot;upgrades&quot; to get the latest version of the software</P>
</U><DIR>
<DIR>

<P>You can view the latest modifications to the repository via the www at </FONT><A HREF="http://public.kitware.com/cgi-bin/itkcvsweb.cgi/"><FONT SIZE=2>http://public.kitware.com/cgi-bin/itkcvsweb.cgi/</FONT></A></P>
<FONT SIZE=2>
<P>If you want to upgrade your local version to the most recent release, do the following:</P>

<U><P>Unix and Windows: Cygwin</P><DIR>
<DIR>

</U><P>From within the Insight directory (at any level, all things from that level in the directory hierarchy and down are upgraded)</P>
<P>&gt; cvsI update</P>
</DIR>
</DIR>

<U><P>Windows: WinCVS</P><DIR>
<DIR>

</U><P>With the Insight directory selected (all things from that level in the directory hierarchy and down are upgraded)</P>
<P>Press the Upgrade button – green down-arrow button at the top of the WinCVS window</P>

<P>&nbsp;</P></DIR>
</DIR>
</DIR>
</DIR>

<B><P>II. Compilation</P>
</B>
<P>With itk, it is easy to create installations/libraries for multiple platform.   This is implemented by locating source separate from object files.   This separation also helps simplify/localize CVS interactions.</P>

<P>So, at the same level as the Insight directory, create directories for the object files for each platform you will be compiling for.</P><DIR>
<DIR>

<P>E.g.,</P><DIR>
<DIR>

<P>~/src/Insight (the CVS repository)</P>
<P>~/src/Insight-VC++/</P>
<P>~/src/Insight-Cygwin/</P>
<P>~/src/Insight-Sun/</P>
</DIR>
</DIR>
</DIR>
</DIR>

<P>Platform specific instructions are below:</P>
<DIR>
<DIR>

<U><P>Windows: VC++</P><DIR>
<DIR>

</U><P>This process will have you create a program that you will run that will in-turn create workspace and project files, specialized for your directory structure, that will create the library files and several test programs.</P>
<DIR>
<DIR>

<P>Open the directory Insight/Code/tools</P>
<P>Open pcbuilder.dsw – this should start MSVC++</P>
<P>Menu: Build: Batch Build</P><DIR>
<DIR>

<P>Check all boxes</P>
<P>Press Rebuild All</P></DIR>
</DIR>

<P>After build, with pcbuilder project active, press execute &quot;!&quot; button</P>
<P>Specify Insight directory using the browse button (e.g., E:/src/Insight)</P>
<P>Specify your object directory as the destination directory (e.g., E:/src/Insight-VC++)</P><DIR>
<DIR>

<P>This creates a directory structure under the destination directory and fills that directory structure with appropriate .dsp and .dsw files.</P></DIR>
</DIR>

<P>Open the top-level itk workspace file in the destination director </P><DIR>
<DIR>

<P>e.g., E:/src/Insight-VC++/itk.dsw</P></DIR>
</DIR>

<P>Menu: Build: Batch Build</P><DIR>
<DIR>

<P>Select all and then check boxes</P>
<P>Press Rebuild All</P></DIR>
</DIR>

<P>After the build completes, run a few tests</P>
</DIR>
</DIR>
</DIR>
</DIR>

<U><P>Windows: Cgywin</P><DIR>
<DIR>

</U><P>&gt; mkdir Insight-Cygwin (same level as Insight directory)</P>
<P>&gt; cd Insight-Cygwin</P>
<P>&gt; ../Insight/configure</P>
<P>&gt; make</P></DIR>
</DIR>

<P>&#9;&#9;</P>
<U><P>Unix</P><DIR>
<DIR>

</U><P>&gt; mkdir Insight-Sun</P>
<P>&gt; cd Insight-Sun</P>
<P>&gt; ../Insight/configure</P>
<P>&gt; gmake</P>

<P>&nbsp;</P></DIR>
</DIR>
</DIR>
</DIR>
</FONT></BODY>
</HTML>
