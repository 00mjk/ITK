# ITK Tcl package configuration.
#
# This file is moved by a CMake CONFIGURE_FILE command into a file in the
# build directory called "pkgIndex.tcl".
#
# If you edit this file, do not use the syntax "${var}" to refer to
# a Tcl variable, only to CMake variables.  CMake will replace any such
# construct with the value of the named CMake variable, or with the empty
# string if the names don't match.

#
# Configure the standard ITK Tcl utilities package.
#
package ifneeded ITKTclUtils 1.0 {
  set tclFile [file join "${ITK_TCL_UTILS_DIR}" "itkTclUtils.tcl"]
  if {[catch { source $tclFile } errorMessage ]} {
    puts $errorMessage
  } else {
    package provide ITKTclUtils 1.0
  }
}

#
# This procedure will help configure other ITK Tcl packages.
# Call it with:
#   package = the name of the package
#   version = the version number of the package
#   subdir  = the subdirectory under Wrapping/Tcl where the package is built
#
proc itkConfigureTclPackage {package version subdir} {
  set libPrefix "${ITK_LIBNAME_PREFIX}"
  set libPath [file join "${ITK_WRAP_TCL_DIR}" "${ITK_MSDEV_CONFIG_DIR}"]
  set libName $package
  set libExt [info sharedlibextension]
  set libFile [file join $libPath "$libPrefix$libName$libExt"]

  package ifneeded $package $version "
    if {\[catch { load $libFile } errorMessage \]} { puts \$errorMessage }
  "
}

# Configure ITK Tcl packages.
itkConfigureTclPackage ITKCommonTcl       1.0 Common
itkConfigureTclPackage ITKBasicFiltersTcl 1.0 BasicFilters
itkConfigureTclPackage ITKAlgorithmsTcl   1.0 Algorithms
